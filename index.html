<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="assets/css/style.css">

    <style>


    </style>



</head>

<body onload="initialPageLoad()">

    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <div class="container">
        <div class="row" id="imageBtns">

            <br>
            <br>


        </div>

        <div class="row" id="giphyImages">

            <div class="col-md-8">


            </div>
            <div class="col-md-4">

                <form>



                    <div class="form-group">
                        <label for="animal">Add an Animal</label>
                        <input type="text" class="form-control" id="search">

                    </div>





                    <button type="submit" class="btn btn-primary" id="submitBtn">Submit</button>
                    <br>
                    <br>
                </form>


            </div>

        </div>


        <br>
        <br>

        <br>
        <br>



    </div>







    <!-- <script src="assets/javascript/giphy.js"> </script>   -->
    <script>

        // create an array of few animals to display as home page
        //this would display before any user input
        var animaArray = ["Cat", "Dog"];
        //create a variable to hold button id 
        var btnId;
        //create a variable object to hold multiple attribute values
        var attrValues;
        //create function to display initial animal list
        //create variable for all queries
        var searchTerm;
        function initialPageLoad() {
            for (var i = 0; i < animaArray.length; i++) {
                //create a Button
                var aniBtn = $("<button>");
                //assign attributes
                btnId = "btn-" + [i];
                //aniBtn.attr("Id", "btn-" + [i]);
                //aniBtn.attr("Id", btnId);
                /*
                aniBtn.attr({
                    Id: btnId,
                    value: animaArray[i],
                   name: animaArray[i]
                });
                */
                //create a variable object to hold multiple attribute values
                var attrValues = {
                    Id: btnId,
                    value: animaArray[i],
                    name: animaArray[i]
                }
                aniBtn.attr(attrValues);
                //console.log(attrValues.Id);
                //write a label
                aniBtn.text(animaArray[i]);
                //display button on home page            
                $("#imageBtns").append(aniBtn);
                //style the buttons
                aniBtn.css("padding", "0px 20px 5px 20px");
                aniBtn.css("background-color", "#66ff66");
                //call the giphy function              

                $("#btn-0").click(function(){
                    searchTerm="cat"
                    
                    getGiphyData(searchTerm);
                });
                $("#btn-1").click(function(){
                    searchTerm="dog"
                   
                    getGiphyData(searchTerm);
                    
                });
                



            }
        };





        // Create an initial display button list variable
        var displayList = 2;
        //create an event Listener
        $("#submitBtn").on("click", function (event) {
            event.preventDefault();


            // Get value from the input box
            var userText = $("#search").val().trim();
            // add new entry to the array
            animaArray.push(userText);
            //console.log(animaArray);

            //create a button and asssign it to a variable
            var inputBtn = $("<Button>");
            //assign attributes
            inputBtn.attr("id", "btn-" + displayList);
            //assign button id as varialbe
            var BtnId="btn-"+ displayList;
            //inputBtn.css('backgroud-color', 'red');
            //put a name/label on the button
            inputBtn.text(userText);
            //console.log(inputBtn);
            inputBtn.css("padding", "0px 20px 5px 20px");
            inputBtn.css("background-color", "#66ff66");

            $("#imageBtns").append(inputBtn);




            // Add to the toDoCount
            displayList++;
        });
        //creatr function to get gipghy api
        function getGiphyData(searchTerm) {
            //var searchTerm="Lion"
            //api key obtained from registering my app at developer.giphy.com
            var APIKey = "lISwnQ5TdGTfXd9Ex4N17L98lbq6KRRi";
            // create a variable to hold the url
   


            var queryURL = "http://api.giphy.com/v1/gifs/search?api_key=lISwnQ5TdGTfXd9Ex4N17L98lbq6KRRi&limit=9&q="+ searchTerm ;
            $.ajax({
                url: queryURL,
                method: "GET"
            })
                // We store all of the retrieved data inside of an object called "response"
                .then(function (response) {

                    // Log the queryURL
                    //console.log(queryURL);

                    // Log the resulting object
                    console.log(response);
                    //response.data.url
                    //create variable to hold data from ajax call
                    var giffs=response.data;
                    //console.log (giffs);
                    for(var n=0; n<9; n++){
                    $('#giphyImages').append('<img src=" '+ giffs[n].images.original.url +'"  />')
                   // $('#giphyImages').append('<img src=" '+ giffs[n].images.original_still.url +'"  />')
 
                    }




                });



        }
        /*

        
				animaArray=["cat", "dog", "lion", "lion"];
				for (var i=0;i<animaArray.length; i++){
				//create button
				var btn=$("<buuton>");
				
				//assign attributes eg Id and Value
				var attrValues = {
                    Id: "btn-"+animaArray[i],
                    value: animaArray[i],
                    name: animaArray[i]
                }
				searchTerm=animaArray[i];				

               $("#btn-1").click(function(){                    
                   
                    getGiphyData(searchTerm);
                    
                });
				
				
				}
				
        



              */










    </script>


</body>

</html>